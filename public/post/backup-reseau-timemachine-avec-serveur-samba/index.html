<!DOCTYPE html>
<html lang="fr" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Backup reséau TimeMachine avec serveur Samba - Astate</title>
  <meta name="description" content="Mon garçon utilise un portable Mac pour son apprentissage à l’école. Il passe souvent de très longues heures à travailler sur différent projet à l’aide de celui-ci. Ça serait triste de perdre un travail à cause d’une défaillance informatique ou d’une erreur humaine. J’ai fait plusieurs recherches sur le web pour trouver une façon de faire fonctionner Timemachine sur le réseau via un serveur Linux. Presque tous les articles que j’ai trouvés utilisent le protocole propriétaire de Apple AFP (Apple Filling Protocol).">
  <meta name="author" content="Astate"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Astate",
    
    "url": "https:\/\/astate.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/astate.github.io"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/astate.github.io",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/astate.github.io\/post\/backup-reseau-timemachine-avec-serveur-samba\/",
          "name": "Backup reséau time machine avec serveur samba"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Astate"
  },
  "headline": "Backup reséau TimeMachine avec serveur Samba",
  "description" : "Mon garçon utilise un portable Mac pour son apprentissage à l’école. Il passe souvent de très longues heures à travailler sur différent projet à l’aide de celui-ci. Ça serait triste de perdre un travail à cause d’une défaillance informatique ou d’une erreur humaine. J’ai fait plusieurs recherches sur le web pour trouver une façon de faire fonctionner Timemachine sur le réseau via un serveur Linux. Presque tous les articles que j’ai trouvés utilisent le protocole propriétaire de Apple AFP (Apple Filling Protocol).",
  "inLanguage" : "fr",
  "wordCount":  432 ,
  "datePublished" : "2019-10-09T19:34:37",
  "dateModified" : "2019-10-09T19:34:37",
  "image" : "https:\/\/astate.github.io\/img\/avatar-icon.png",
  "keywords" : [ "linux, macos, samba, smb" ],
  "mainEntityOfPage" : "https:\/\/astate.github.io\/post\/backup-reseau-timemachine-avec-serveur-samba\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/astate.github.io",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/astate.github.io\/img\/avatar-icon.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Backup reséau TimeMachine avec serveur Samba" />
<meta property="og:description" content="Mon garçon utilise un portable Mac pour son apprentissage à l’école. Il passe souvent de très longues heures à travailler sur différent projet à l’aide de celui-ci. Ça serait triste de perdre un travail à cause d’une défaillance informatique ou d’une erreur humaine. J’ai fait plusieurs recherches sur le web pour trouver une façon de faire fonctionner Timemachine sur le réseau via un serveur Linux. Presque tous les articles que j’ai trouvés utilisent le protocole propriétaire de Apple AFP (Apple Filling Protocol).">
<meta property="og:image" content="https://astate.github.io/img/avatar-icon.png" />
<meta property="og:url" content="https://astate.github.io/post/backup-reseau-timemachine-avec-serveur-samba/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Astate" />

  <meta name="twitter:title" content="Backup reséau TimeMachine avec serveur Samba" />
  <meta name="twitter:description" content="Mon garçon utilise un portable Mac pour son apprentissage à l’école. Il passe souvent de très longues heures à travailler sur différent projet à l’aide de celui-ci. Ça serait triste de perdre un …">
  <meta name="twitter:image" content="https://astate.github.io/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <link href='https://astate.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.79.0" />
  <link rel="alternate" href="https://astate.github.io/index.xml" type="application/rss+xml" title="Astate"><link rel="stylesheet" href="https://astate.github.io/css/main.css" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Julius+Sans+One">
   <link rel="stylesheet" href="https://astate.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://astate.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://astate.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand julius" href="https://astate.github.io">Astate</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Moi" href="/apropos/">Moi</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Astate" href="https://astate.github.io">
            <img class="avatar-img" src="https://astate.github.io/img/avatar-icon.png" alt="Astate" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Backup reséau TimeMachine avec serveur Samba</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posté le 9 octobre 2019
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;432&nbsp;mots
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Astate
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Mon garçon utilise un portable Mac pour son apprentissage à l’école. Il passe souvent de très longues heures à travailler sur différent projet à l’aide de celui-ci. Ça serait triste de perdre un travail à cause d’une défaillance informatique ou d’une erreur humaine. J’ai fait plusieurs recherches sur le web pour trouver une façon de faire fonctionner Timemachine sur le réseau via un serveur Linux. Presque tous les articles que j’ai trouvés utilisent le protocole propriétaire de Apple AFP (Apple Filling Protocol).  Le problème est que Apple a l’intention de laisser tomber AFP et de le remplacer par le protocole smb. J’ai trouvé un article sur reddit qui explique comment utiliser les nouvelles options vfs_fruit arrivées dans la version 4.8 de Samba que vous pouvez trouver à ici. <a href="https://www.reddit.com/r/homelab/comments/83vkaz/howto_make_time_machine_backups_on_a_samba/">https://www.reddit.com/r/homelab/comments/83vkaz/howto_make_time_machine_backups_on_a_samba/</a></p>
<p>Configuration Samba : /etc/samba/smb.conf</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>global<span class="o">]</span>
<span class="c1"># Basic Samba configuration</span>
server <span class="nv">role</span> <span class="o">=</span> standalone server
passdb <span class="nv">backend</span> <span class="o">=</span> tdbsam
obey pam <span class="nv">restrictions</span> <span class="o">=</span> yes
<span class="nv">security</span> <span class="o">=</span> user
printcap <span class="nv">name</span> <span class="o">=</span> /dev/null
load <span class="nv">printers</span> <span class="o">=</span> no
socket <span class="nv">options</span> <span class="o">=</span> TCP_NODELAY IPTOS_LOWDELAY <span class="nv">SO_RCVBUF</span><span class="o">=</span><span class="m">524288</span> <span class="nv">SO_SNDBUF</span><span class="o">=</span><span class="m">524288</span>
server <span class="nv">string</span> <span class="o">=</span> Samba Server %v
map to <span class="nv">guest</span> <span class="o">=</span> bad user
dns <span class="nv">proxy</span> <span class="o">=</span> no
wide <span class="nv">links</span> <span class="o">=</span> yes
follow <span class="nv">symlinks</span> <span class="o">=</span> yes
unix <span class="nv">extensions</span> <span class="o">=</span> no
acl allow execute <span class="nv">always</span> <span class="o">=</span> yes
log <span class="nv">file</span> <span class="o">=</span> /var/log/samba/%m.log
max log <span class="nv">size</span> <span class="o">=</span> <span class="m">1000</span>

<span class="c1"># Special configuration for Apple&#39;s Time Machine</span>
fruit:model <span class="o">=</span> MacPro
fruit:advertise_fullsync <span class="o">=</span> <span class="nb">true</span>
fruit:aapl <span class="o">=</span> yes

<span class="c1">## Definde your shares here</span>
<span class="o">[</span>TimeMachine Home<span class="o">]</span>
<span class="nv">path</span> <span class="o">=</span> /srv/backup/timemachine/%U
valid <span class="nv">users</span> <span class="o">=</span> %U
<span class="nv">writable</span> <span class="o">=</span> yes
durable <span class="nv">handles</span> <span class="o">=</span> yes
kernel <span class="nv">oplocks</span> <span class="o">=</span> no
kernel share <span class="nv">modes</span> <span class="o">=</span> no
posix <span class="nv">locking</span> <span class="o">=</span> no
vfs <span class="nv">objects</span> <span class="o">=</span> catia fruit streams_xattr
ea <span class="nv">support</span> <span class="o">=</span> yes
<span class="nv">browseable</span> <span class="o">=</span> yes
<span class="nb">read</span> <span class="nv">only</span> <span class="o">=</span> No
inherit <span class="nv">acls</span> <span class="o">=</span> yes
fruit:time <span class="nv">machine</span> <span class="o">=</span> yes</code></pre></div>
<p>Création d&rsquo;un usager et du répertoire de sauvegarde</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ mkdir -p /srv/backup/timemachine/

$ /usr/local/samba/bin/smbpasswd -a $USERNAME

$ mkdir -m 700 /srv/backup/timemachine/$USERNAME; chown $USERNAME /srv/backup/timemachine/$USERNAME</code></pre></div>
<p>À moins d&rsquo;avoir une partition dédier aux backups il vous sera necessaire d&rsquo;activer un quota.</p>
<p>Pour ce faire il faut créer le fichier <strong>.com.apple.TimeMachine.quota.plist</strong> avec le contenu suivant:
<div class="highlight"><pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">&#34;1.0&#34;</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
  <span class="nt">&lt;key&gt;</span>GlobalQuota<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;integer&gt;</span>300000000000<span class="nt">&lt;/integer&gt;</span>
  <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span></code></pre></div>
300000000000 = 300 Gig</p>
<p>Démarrage et activation des services
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ sudo systemctl enable smb.service; sudo systemctl start smb.service</code></pre></div></p>
<p>Pour le premier backup complet, il est intéressant de désactiver le throttle pour utiliser le processeur à pleine capacité. Les deux commandes suivantes se font dans un terminal sur le MacOS utilisant TimeMachine.
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ sudo sysctl debug.lowpri\_throttle_enabled=0</code></pre></div></p>
<p>Une fois le backup terminé il faudra revenir à la normal pour les prochains backup incrémentaux.
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ sudo sysctl debug.lowpri\_throttle_enabled=1</code></pre></div></p>


        
          <div class="blog-tags">
            
              <a href="https://astate.github.io/tags/linux/">linux</a>&nbsp;
            
              <a href="https://astate.github.io/tags/macos/">macos</a>&nbsp;
            
              <a href="https://astate.github.io/tags/samba/">samba</a>&nbsp;
            
              <a href="https://astate.github.io/tags/smb/">smb</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=https%3a%2f%2fastate.github.io%2fpost%2fbackup-reseau-timemachine-avec-serveur-samba%2f&amp;text=Backup%20res%c3%a9au%20TimeMachine%20avec%20serveur%20Samba&amp;via=" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fastate.github.io%2fpost%2fbackup-reseau-timemachine-avec-serveur-samba%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=https%3a%2f%2fastate.github.io%2fpost%2fbackup-reseau-timemachine-avec-serveur-samba%2f&amp;title=Backup%20res%c3%a9au%20TimeMachine%20avec%20serveur%20Samba" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fastate.github.io%2fpost%2fbackup-reseau-timemachine-avec-serveur-samba%2f&amp;title=Backup%20res%c3%a9au%20TimeMachine%20avec%20serveur%20Samba" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fastate.github.io%2fpost%2fbackup-reseau-timemachine-avec-serveur-samba%2f&amp;title=Backup%20res%c3%a9au%20TimeMachine%20avec%20serveur%20Samba" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fastate.github.io%2fpost%2fbackup-reseau-timemachine-avec-serveur-samba%2f&amp;description=Backup%20res%c3%a9au%20TimeMachine%20avec%20serveur%20Samba" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
          
            
          

          
                  <h4 class="see-also">Voir également</h4>
                  <ul>
                
                
                    <li><a href="/post/remettre-le-stock-rom-avec-heimdall/">Comment remettre le stock rom avec Heimdall</a></li>
                
              </ul>

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://astate.github.io/post/remettre-le-stock-rom-avec-heimdall/" data-toggle="tooltip" data-placement="top" title="Comment remettre le stock rom avec Heimdall">&larr; Post précédent</a>
            </li>
          
          
        </ul>
      


      
        
          
          <div class="disqus-comments">                  
            <button id="show-comments" class="btn btn-default" type="button">Afficher <span class="disqus-comment-count" data-disqus-url="https://astate.github.io/post/backup-reseau-timemachine-avec-serveur-samba">commentaires</span></button>
            <div id="disqus_thread"></div>

            <script type="text/javascript">
              var disqus_config = function () {
              this.page.url = 'https:\/\/astate.github.io\/post\/backup-reseau-timemachine-avec-serveur-samba';
            };

          </script>
          </div>
          
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:astate@protonmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/Astate" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="astate.github.io">Astate</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://astate.github.io">Astate</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Carbure avec <a href="https://gohugo.io">Hugo v0.79.0</a>&nbsp;&bull;&nbsp; Avec le Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapté de <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://astate.github.io/js/main.js"></script>
<script src="https://astate.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://astate.github.io/js/load-photoswipe.js"></script>








<script type="text/javascript">
$(function(){
  $('#show-comments').on('click', function(){
    var disqus_shortname = 'astate-github-io';
      
    (function() {
      var disqus = document.createElement('script'); 
      disqus.type = 'text/javascript'; 
      disqus.async = true;
      disqus.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(disqus);
    })();
      
    $(this).hide(); 
    });
  });
      
</script>
<script id="dsq-count-scr" src="//astate-github-io.disqus.com/count.js" async></script>




    
  </body>
</html>

